[{"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/index.tsx":"1","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/reportWebVitals.ts":"2","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/App.tsx":"3","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/layouts/register.tsx":"4","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/layouts/signedIn.tsx":"5","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/layouts/landing.tsx":"6","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/redux-functionality/index.tsx":"7","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/redux-functionality/slices/userAccountsSlice.tsx":"8","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/components/shared.tsx":"9","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/generators/randomString.tsx":"10","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/cbor.ts":"11","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/register/createPasskeyCredential.tsx":"12","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/getPasskeyCredential.tsx":"13","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/verifyUserId.tsx":"14","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/register/validatePassKeyCreation.tsx":"15","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/verifyClientData.tsx":"16","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/authResponseToSigVerificationInput.ts":"17","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/parseAuthData.ts":"18","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/base64url-arraybuffer.ts":"19","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/base64ToBase64URL.ts":"20","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/aaguidToString.ts":"21","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/parseClientData.tsx":"22","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/types/redux/userAccount.tsx":"23","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/validatePassKey.tsx":"24","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/pad_string_1.ts":"25","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/coseKeyTypeToString.ts":"26","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/coseAlgToString.ts":"27"},{"size":727,"mtime":1698349752156,"results":"28","hashOfConfig":"29"},{"size":425,"mtime":1698349752157,"results":"30","hashOfConfig":"29"},{"size":1241,"mtime":1698349752155,"results":"31","hashOfConfig":"29"},{"size":5145,"mtime":1698731368908,"results":"32","hashOfConfig":"29"},{"size":273,"mtime":1698349752156,"results":"33","hashOfConfig":"29"},{"size":5704,"mtime":1698731211979,"results":"34","hashOfConfig":"29"},{"size":443,"mtime":1698349752157,"results":"35","hashOfConfig":"29"},{"size":1139,"mtime":1698349752157,"results":"36","hashOfConfig":"29"},{"size":624,"mtime":1698349752155,"results":"37","hashOfConfig":"29"},{"size":290,"mtime":1698349752158,"results":"38","hashOfConfig":"29"},{"size":10699,"mtime":1698720716552,"results":"39","hashOfConfig":"29"},{"size":2098,"mtime":1698354703243,"results":"40","hashOfConfig":"29"},{"size":1019,"mtime":1698547664945,"results":"41","hashOfConfig":"29"},{"size":626,"mtime":1698349752158,"results":"42","hashOfConfig":"29"},{"size":1279,"mtime":1698355734646,"results":"43","hashOfConfig":"29"},{"size":775,"mtime":1698548838556,"results":"44","hashOfConfig":"29"},{"size":2531,"mtime":1698700216175,"results":"45","hashOfConfig":"29"},{"size":4513,"mtime":1698731186124,"results":"46","hashOfConfig":"29"},{"size":1878,"mtime":1698655131944,"results":"47","hashOfConfig":"29"},{"size":540,"mtime":1698618749081,"results":"48","hashOfConfig":"29"},{"size":469,"mtime":1698618761191,"results":"49","hashOfConfig":"29"},{"size":452,"mtime":1698618546426,"results":"50","hashOfConfig":"29"},{"size":240,"mtime":1698349752157,"results":"51","hashOfConfig":"29"},{"size":190,"mtime":1698349752158,"results":"52","hashOfConfig":"29"},{"size":513,"mtime":1698700468036,"results":"53","hashOfConfig":"29"},{"size":512,"mtime":1698618771190,"results":"54","hashOfConfig":"29"},{"size":2702,"mtime":1698618781365,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nyl6o2",{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/index.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/reportWebVitals.ts",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/App.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/layouts/register.tsx",["138","139"],[],"import React, { useState } from \"react\";\nimport CreatePassKeyCredential from \"utils/passkey/register/createPasskeyCredential\";\nimport validatePassKeyCreation from \"utils/passkey/register/validatePassKeyCreation\";\nimport { Container, SignInButton, Copy, UserName } from \"components/shared\";\nimport { useDispatch } from \"react-redux\";\nimport { addUserAccount } from \"redux-functionality/slices/userAccountsSlice\";\nimport * as base64url from \"../utils/passkey/shared/base64url-arraybuffer\";\nimport generateRandomString from \"utils/generators/randomString\";\nimport { encode, decode } from \"utils/passkey/shared/cbor\";\nimport { parseAuthData } from \"utils/passkey/shared/parseAuthData\";\n\ninterface Props {\n  onRegister: () => void;\n  onReturnToSignIn: () => void;\n}\n\n// markup\nconst Register = ({ onRegister, onReturnToSignIn }: Props) => {\n  const dispatch = useDispatch();\n  const [login, setLogin] = useState(localStorage.getItem('login') || '');\n  const [username, setUsername] = useState<string>(\"\");\n  // const [displayName, setDisplayName] = useState<string>(\"\");\n\n  const onUserNameChanged = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    setUsername(ev.target.value);\n    setLogin(ev.target.value);\n  };\n\n  // const onDisplayNameChanged = (ev: React.ChangeEvent<HTMLInputElement>) => {\n  //   setDisplayName(ev.target.value);\n  // };\n\n  const createPassKey = async () => {\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n    // MARK: THIS SHOULD BE DONE ON THE BACKEND\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n    const userId = generateRandomString(16);\n    console.log(\"✅  Created userId : \", userId);\n    // rXfCD86r4OHTMk0j\n    const challengeBufferString = generateRandomString(16);\n    console.log(\"✅ Created challengeBufferString : \", challengeBufferString);\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n    /* MARK: THIS SHOULD BE DONE IF AN ACCOUNT IS VALID \n             AND THE CHALLENGE BUFFER AND USERID SHOULD BE PASSED\n             FROM THE RETURN CALL IN THE SERVER\n    */\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n    try {\n      const credential = await CreatePassKeyCredential(\n        username.toLowerCase(),\n        challengeBufferString,\n        userId\n      );\n      console.log(\"✅ Created Pass Key Credential ! \");\n\n      if (credential) {\n        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        // MARK: THIS SHOULD BE DONE ON THE BACKEND\n        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n        console.log(\"✅ Credential is not null : \", credential);\n        \n        // @ts-ignore\n        const attestationObject = decode(credential.response.attestationObject);\n        console.log(\"🔥 \", attestationObject);\n        console.log(\"attestationObject.authData: \", attestationObject.authData);\n        const authData = parseAuthData(attestationObject.authData);\n        console.log(\"authData: \", authData);\n        console.log(\"public key x: \", authData.parsedCredentialPublicKey?.x);\n        console.log(\"public key y: \", authData.parsedCredentialPublicKey?.y);\n\n        // Validate PassKey Creation\n        const challenge = validatePassKeyCreation(credential);\n        switch (challenge) {\n          case null:\n            console.log(\"❌ PassKey verification failed.\");\n            return;\n          default:\n            console.log(\n              \"✅ PassKey verification passed with challenge : \",\n              challenge\n            );\n            // Save the user account data.\n            // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            // MARK: THIS SHOULD BE SAVED TO YOUR BACKEND DATABASE\n            // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            dispatch(\n              addUserAccount({\n                userId: userId,\n                username: username,\n                displayName: username,\n                challengeBuffer: challengeBufferString,\n                challenge: challenge,\n              })\n            );\n            localStorage.setItem(`${login}_challengeBuffer`, challengeBufferString);\n            localStorage.setItem(`${login}_challenge`, challenge);\n            localStorage.setItem(`${login}_userId`, userId);\n            onRegister();\n            break;\n        }\n        // @ts-ignore\n        localStorage.setItem(`${login}_passkeyId`, credential.id);\n      } else {\n        console.log(\"❌ Credential does not exist.\");\n      }\n    } catch (error) {\n      console.log(\"❌ Error creating credential\");\n      // Session Timed Out\n      console.log(\"ERROR : \", error);\n    }\n  };\n\n  return (\n    <Container>\n      <UserName\n        placeholder={\"Please enter your email\"}\n        type={\"text\"}\n        autoComplete={\"username webauthn\"}\n        value={username}\n        onChange={onUserNameChanged}\n      />\n      {/* <UserName\n        placeholder={\"What should we call you?\"}\n        type={\"text\"}\n        value={displayName}\n        onChange={onDisplayNameChanged}\n      /> */}\n      <SignInButton onClick={createPassKey}> Register</SignInButton>\n      <Copy>Already have an account ?</Copy>\n      <SignInButton onClick={onReturnToSignIn}>Sign In</SignInButton>\n    </Container>\n  );\n};\n\nexport default Register;\n","/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/layouts/signedIn.tsx",["140"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/layouts/landing.tsx",["141","142","143"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/redux-functionality/index.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/redux-functionality/slices/userAccountsSlice.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/components/shared.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/generators/randomString.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/cbor.ts",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/register/createPasskeyCredential.tsx",["144"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/getPasskeyCredential.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/verifyUserId.tsx",["145"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/register/validatePassKeyCreation.tsx",["146"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/verifyClientData.tsx",["147","148"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/authResponseToSigVerificationInput.ts",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/parseAuthData.ts",["149"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/base64url-arraybuffer.ts",["150"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/base64ToBase64URL.ts",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/aaguidToString.ts",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/parseClientData.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/types/redux/userAccount.tsx",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/authenticate/validatePassKey.tsx",["151"],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/pad_string_1.ts",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/coseKeyTypeToString.ts",[],[],"/Users/peterchen/Dropbox/Hexlink/pwa-demo/src/utils/passkey/shared/coseAlgToString.ts",[],[],{"ruleId":"152","severity":1,"message":"153","line":7,"column":13,"nodeType":"154","messageId":"155","endLine":7,"endColumn":22},{"ruleId":"152","severity":1,"message":"156","line":9,"column":10,"nodeType":"154","messageId":"155","endLine":9,"endColumn":16},{"ruleId":"157","severity":1,"message":"158","line":6,"column":19,"nodeType":"159","messageId":"160","endLine":6,"endColumn":28},{"ruleId":"152","severity":1,"message":"161","line":4,"column":8,"nodeType":"154","messageId":"155","endLine":4,"endColumn":23},{"ruleId":"152","severity":1,"message":"162","line":8,"column":8,"nodeType":"154","messageId":"155","endLine":8,"endColumn":13},{"ruleId":"152","severity":1,"message":"163","line":38,"column":9,"nodeType":"154","messageId":"155","endLine":38,"endColumn":23},{"ruleId":"152","severity":1,"message":"164","line":1,"column":8,"nodeType":"154","messageId":"155","endLine":1,"endColumn":13},{"ruleId":"152","severity":1,"message":"164","line":1,"column":8,"nodeType":"154","messageId":"155","endLine":1,"endColumn":13},{"ruleId":"152","severity":1,"message":"165","line":1,"column":8,"nodeType":"154","messageId":"155","endLine":1,"endColumn":25},{"ruleId":"152","severity":1,"message":"164","line":1,"column":8,"nodeType":"154","messageId":"155","endLine":1,"endColumn":13},{"ruleId":"152","severity":1,"message":"166","line":2,"column":8,"nodeType":"154","messageId":"155","endLine":2,"endColumn":19},{"ruleId":"152","severity":1,"message":"156","line":1,"column":10,"nodeType":"154","messageId":"155","endLine":1,"endColumn":16},{"ruleId":"167","severity":1,"message":"168","line":65,"column":15,"nodeType":"169","messageId":"170","endLine":65,"endColumn":16,"suggestions":"171"},{"ruleId":"152","severity":1,"message":"164","line":1,"column":8,"nodeType":"154","messageId":"155","endLine":1,"endColumn":13},"@typescript-eslint/no-unused-vars","'base64url' is defined but never used.","Identifier","unusedVar","'encode' is defined but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","'parseClientData' is defined but never used.","'store' is defined but never used.","'getUserAccount' is assigned a value but never used.","'React' is defined but never used.","'PassKeyClientData' is defined but never used.","'UserAccount' is defined but never used.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["172","173"],{"messageId":"174","fix":"175","desc":"176"},{"messageId":"177","fix":"178","desc":"179"},"removeEscape",{"range":"180","text":"181"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"182","text":"183"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1730,1731],"",[1730,1730],"\\"]